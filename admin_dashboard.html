<!DOCTYPE html>
<html class="dark" lang="en">

<head>
	<meta charset="utf-8" />
	<meta content="width=device-width, initial-scale=1.0" name="viewport" />
	<title>Admin Dashboard - Suckless Ratings</title>
	<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
	<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;700&amp;display=swap"
		rel="stylesheet" />
	<link
		href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
		rel="stylesheet" />
	<script src="tailwind.config.js" defer></script>
	<style>
		body {
			font-family: 'Fira Code', sans-serif;
			text-rendering: optimizeLegibility;
		}

		/* Custom underline for links to match suckless aesthetic */
		.suckless-link {
			text-decoration: underline;
			text-decoration-thickness: 1px;
			text-underline-offset: 2px;
		}

		.browser-default-btn {
			appearance: none;
			background-color: #1c1f27;
			border: 1px solid #3b4354;
			padding: 4px 12px;
			cursor: pointer;
		}

		.browser-default-btn:hover {
			border-color: #1152d4;
		}

		.browser-default-btn:active {
			background-color: #1152d4;
			color: white;
		}

		.admin-table th,
		.admin-table td {
			border: 1px solid #3b4354;
		}
	</style>
	<script src="./js/auth_widget.mjs" type="module" defer></script>
</head>

<body class="bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 min-h-screen">
	<div class="max-w-[1000px] mx-auto px-6 py-8">
		<!-- TopNavBar -->
		<header class="border-b border-slate-300 dark:border-slate-800 pb-4 mb-8">
			<div class="flex flex-col gap-4">
				<div class="flex items-center gap-2">
					<h1 class="text-2xl font-bold tracking-tight text-slate-900 dark:text-white uppercase">
						Admin Dashboard
					</h1>
				</div>
				<nav class="flex flex-wrap items-center gap-2 text-sm font-medium">
					<a class="text-primary suckless-link" href="home.html">Home</a>
					<span class="text-slate-400">|</span>
					<a class="text-primary suckless-link" href="leaderboard.html">Leaderboard</a>
					<span class="text-slate-400">|</span>
					<a class="text-primary suckless-link font-bold underline" href="admin_dashboard.html">Admin</a>
				</nav>
			</div>
		</header>

		<main class="space-y-12">
			<!-- Create Section -->
			<section id="add-entry-section">
				<div class="mb-6">
					<h2 class="text-xl font-bold text-slate-900 dark:text-white mb-2 uppercase tracking-widest">Add New
						Leaderboard Entry</h2>
					<p class="text-sm text-slate-500 dark:text-slate-400">Insert a new minimalist configuration into the
						rankings.</p>
				</div>
				<form id="create-entry-form" class="space-y-4 max-w-[600px] border border-slate-300 dark:border-slate-800 p-6">
					<div class="flex flex-col gap-2">
						<label class="text-xs font-bold uppercase tracking-wider text-slate-600 dark:text-slate-400">Software
							Name</label>
						<select
							class="form-input w-full rounded-none border border-gray-300 dark:border-[#3b4354] bg-white dark:bg-[#1c1f27] text-gray-900 dark:text-white focus:ring-1 focus:ring-primary focus:border-primary h-12 px-4 text-sm"
							id="software-name-select">
							<option value="nvim">nvim</option>
							<option value="dwm">dwm</option>
						</select>
					</div>

					<div class="flex flex-col gap-2">
						<label
							class="text-xs font-bold uppercase tracking-wider text-slate-600 dark:text-slate-400">Description</label>
						<textarea required
							class="form-input w-full rounded-none border border-slate-300 dark:border-[#3b4354] bg-white dark:bg-[#1c1f27] text-slate-900 dark:text-white focus:ring-1 focus:ring-primary focus:border-primary px-3 py-2 text-sm"
							placeholder="Brief description of the config..." id="software-desc" rows="3"></textarea>
					</div>
					<div class="flex flex-col gap-2">
						<label class="text-xs font-bold uppercase tracking-wider text-slate-600 dark:text-slate-400">repo
							url</label>
						<input required
							class="form-input w-full rounded-none border border-slate-300 dark:border-[#3b4354] bg-white dark:bg-[#1c1f27] text-slate-900 dark:text-white focus:ring-1 focus:ring-primary focus:border-primary px-3 py-2 text-sm"
							placeholder="add a repo url" id="repo-url" />
					</div>
					<div class="flex flex-col gap-2 w-32">
						<label class="text-xs font-bold uppercase tracking-wider text-slate-600 dark:text-slate-400">Score
							(0-10)</label>
						<input required min="0" max="10" step="1"
							class="form-input w-full rounded-none border border-slate-300 dark:border-[#3b4354] bg-white dark:bg-[#1c1f27] text-slate-900 dark:text-white focus:ring-1 focus:ring-primary focus:border-primary h-10 px-3 text-sm"
							type="number" id="software-score" />
					</div>
					<div class="pt-2">
						<button
							class="browser-default-btn text-xs font-bold uppercase tracking-widest text-slate-900 dark:text-white"
							type="submit" id = "push-btn">
							Create Entry
						</button>
					</div>
				</form>
			</section>

			<!-- Read/Update/Delete Section -->
			<section id="manage-entries-section">
				<div class="mb-6">
					<h2 class="text-xl font-bold text-slate-900 dark:text-white mb-2 uppercase tracking-widest">Manage
						Leaderboard</h2>
					<p class="text-sm text-slate-500 dark:text-slate-400">Edit or remove existing entries from the
						global leaderboard.</p>
				</div>
				<div class="overflow-x-auto border border-slate-300 dark:border-slate-800">
					<table class="w-full text-left border-collapse admin-table">
						<thead>
							<tr class="bg-slate-100 dark:bg-slate-900/50 border-b border-slate-300 dark:border-slate-800">
								<th
									class="px-4 py-3 text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300 w-16 text-center">
									ID</th>
								<th
									class="px-4 py-3 text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300 w-32">
									Software</th>
								<th class="px-4 py-3 text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300">
									Description</th>
								<th
									class="px-4 py-3 text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300 w-24 text-center">
									Score</th>
								<th
									class="px-4 py-3 text-xs font-bold uppercase tracking-wider text-slate-700 dark:text-slate-300 w-48 text-center">
									Actions</th>
							</tr>
						</thead>
						<tbody class="divide-y divide-slate-300 dark:divide-slate-800" id="admin-leaderboard-body">
							<!-- Placeholder row to show style -->
							<tr class="hover:bg-slate-50 dark:hover:bg-slate-900/30 transition-colors">
							</tr>
						</tbody>
					</table>
				</div>
			</section>

			<!-- Edit Modal/Overlay (Hidden by default) -->
			<div id="edit-modal" class="hidden fixed inset-0 bg-black/80 flex items-center justify-center p-6 z-50">
				<div
					class="bg-background-light dark:bg-background-dark border border-slate-300 dark:border-slate-800 p-8 max-w-[600px] w-full">
					<div class="mb-6 flex justify-between items-center">
						<h2 class="text-xl font-bold text-slate-900 dark:text-white uppercase tracking-widest">Edit
							Entry</h2>
						<button id="close-modal" class="material-symbols-outlined text-slate-500 hover:text-white">close</button>
					</div>
					<form id="edit-form" class="space-y-4">
						<input type="hidden" id="edit-id" />
						<div class="flex flex-col gap-2">
							<label class="text-xs font-bold uppercase tracking-wider text-slate-600 dark:text-slate-400">Software
								Name</label>
							<select
								class="form-input w-full rounded-none border border-slate-300 dark:border-[#3b4354] bg-white dark:bg-[#1c1f27] text-slate-900 dark:text-white focus:ring-1 focus:ring-primary focus:border-primary h-10 px-3 text-sm"
								type="text" id="edit-software-name">
								<option value="nvim">nvim</option>
								<option value="dwm">dwm</option>
							</select>
						</div>
						<div class="flex flex-col gap-2">
							<label
								class="text-xs font-bold uppercase tracking-wider text-slate-600 dark:text-slate-400">Description</label>
							<textarea required
								class="form-input w-full rounded-none border border-slate-300 dark:border-[#3b4354] bg-white dark:bg-[#1c1f27] text-slate-900 dark:text-white focus:ring-1 focus:ring-primary focus:border-primary px-3 py-2 text-sm"
								id="edit-software-desc" rows="3"></textarea>
						</div>
						<div class="flex flex-col gap-2 w-32">
							<label class="text-xs font-bold uppercase tracking-wider text-slate-600 dark:text-slate-400">Score
								(0-10)</label>
							<input required min="0" max="100" step="1"
								class="form-input w-full rounded-none border border-slate-300 dark:border-[#3b4354] bg-white dark:bg-[#1c1f27] text-slate-900 dark:text-white focus:ring-1 focus:ring-primary focus:border-primary h-10 px-3 text-sm"
								type="number" id="edit-software-score" />
						</div>
						<div class="pt-4 flex justify-end gap-4">
							<button type="button" id="cancel-edit"
								class="text-xs font-bold uppercase tracking-widest text-slate-500 hover:text-slate-700 dark:hover:text-slate-300">Cancel</button>
							<button
								class="browser-default-btn text-xs font-bold uppercase tracking-widest text-slate-900 dark:text-white"
								type="submit" id="send-edit">
								Save Changes
							</button>
						</div>
					</form>
				</div>
			</div>

		</main>

		<!-- Footer -->
		<footer class="mt-20 pt-8 border-t border-slate-300 dark:border-slate-800">
			<div
				class="flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-slate-500 dark:text-slate-400">
				<div class="flex gap-4">
					<a class="suckless-link hover:text-primary" href="#">Source</a>
					<a class="suckless-link hover:text-primary" href="#">Contact</a>
					<a class="suckless-link hover:text-primary" href="#">Mailing List</a>
				</div>
				<div class="text-center md:text-right">
					<p>Â© 2024 Suckless Ratings. Admin Panel. No bloat.</p>
				</div>
			</div>
		</footer>
	</div>
	<script src="./js/admin.mjs" type="module" defer></script>
</body>

</html>
